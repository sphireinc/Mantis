<!-- Code generated by gomarkdoc. DO NOT EDIT -->

[![Go Report Card](https://goreportcard.com/badge/github.com/sphireinc/mantis)](https://goreportcard.com/report/github.com/sphireinc/mantis)
[![Go Reference](https://pkg.go.dev/badge/github.com/sphireinc/mantis.svg)](https://pkg.go.dev/github.com/sphireinc/mantis)



# database

```go
import "github.com/sphireinc/mantis/database"
```

## Index

- [Constants](<#constants>)
- [type Aerospike](<#Aerospike>)
  - [func \(a \*Aerospike\) Connect\(\) error](<#Aerospike.Connect>)
  - [func \(a \*Aerospike\) Default\(hostname string, port int\) error](<#Aerospike.Default>)
  - [func \(a \*Aerospike\) Get\(key \*aerospike.Key\) \(\*aerospike.Record, error\)](<#Aerospike.Get>)
  - [func \(a \*Aerospike\) Set\(namespace, setName, key, bin, value string\) error](<#Aerospike.Set>)
  - [func \(a \*Aerospike\) String\(\) string](<#Aerospike.String>)
- [type AerospikeError](<#AerospikeError>)
- [type CypherQuery](<#CypherQuery>)
  - [func \(c \*CypherQuery\) String\(\) string](<#CypherQuery.String>)
- [type MySQL](<#MySQL>)
  - [func \(m \*MySQL\) ConfigString\(\) string](<#MySQL.ConfigString>)
  - [func \(m \*MySQL\) Connect\(\) error](<#MySQL.Connect>)
  - [func \(m \*MySQL\) Default\(user, password, address, dbName string\)](<#MySQL.Default>)
  - [func \(m \*MySQL\) Delete\(namedQuery string, deleteStructs any\) \(int64, error\)](<#MySQL.Delete>)
  - [func \(m \*MySQL\) DeleteOne\(namedQuery string, deleteStruct any\) error](<#MySQL.DeleteOne>)
  - [func \(m \*MySQL\) Insert\(namedQuery string, insertStruct any\) error](<#MySQL.Insert>)
  - [func \(m \*MySQL\) InsertOne\(namedQuery string, insertStruct any\) \(int64, error\)](<#MySQL.InsertOne>)
  - [func \(m \*MySQL\) MatchError\(err error\) MySQLError](<#MySQL.MatchError>)
  - [func \(m \*MySQL\) RawQuery\(query string, args ...any\) \(\*sql.Rows, error\)](<#MySQL.RawQuery>)
  - [func \(m \*MySQL\) Select\(into any, query string, args ...any\) \(any, error\)](<#MySQL.Select>)
  - [func \(m \*MySQL\) SelectOne\(into any, query string, args ...any\) \(any, error\)](<#MySQL.SelectOne>)
  - [func \(m \*MySQL\) String\(\) string](<#MySQL.String>)
  - [func \(m \*MySQL\) Update\(namedQuery string, updateStructs any\) error](<#MySQL.Update>)
  - [func \(m \*MySQL\) UpdateOne\(namedQuery string, updateStruct any\) \(int64, error\)](<#MySQL.UpdateOne>)
- [type MySQLError](<#MySQLError>)
- [type Neo4j](<#Neo4j>)
  - [func \(n \*Neo4j\) Connect\(\) error](<#Neo4j.Connect>)
  - [func \(n \*Neo4j\) CypherQuery\(query CypherQuery\) \(interface\{\}, error\)](<#Neo4j.CypherQuery>)
  - [func \(n \*Neo4j\) NewNode\(node neoism.Props\) \(\*neoism.Node, error\)](<#Neo4j.NewNode>)
  - [func \(n \*Neo4j\) String\(\) string](<#Neo4j.String>)
  - [func \(n \*Neo4j\) TransactCypherQuery\(queries \[\]CypherQuery\) \(interface\{\}, error\)](<#Neo4j.TransactCypherQuery>)
- [type Redis](<#Redis>)
  - [func \(r \*Redis\) CheckIfConnected\(\) bool](<#Redis.CheckIfConnected>)
  - [func \(r \*Redis\) Get\(key string\) \(string, error\)](<#Redis.Get>)
  - [func \(r \*Redis\) GetRawConnectionAndContext\(\) \(\*redis.Client, context.Context\)](<#Redis.GetRawConnectionAndContext>)
  - [func \(r \*Redis\) Init\(\) error](<#Redis.Init>)
  - [func \(r \*Redis\) Set\(key string, value string, expiration time.Duration\) error](<#Redis.Set>)


## Constants

<a name="mysqlErrorDuplicate"></a>

```go
const mysqlErrorDuplicate = "duplicate"
```

<a name="Aerospike"></a>
## type [Aerospike](<https://github.com/sphireinc/mantis/blob/master/database/aerospike.go#L16-L24>)

Aerospike is our primary struct

```go
type Aerospike struct {
    Client          *aerospike.Client       `json:"-"`
    Hostname        string                  `json:"hostname,omitempty"`
    Port            int                     `json:"port,omitempty"`
    TLSName         string                  `json:"TLSName,omitempty"`
    Policy          *aerospike.ClientPolicy `json:"-"`
    GlobalNamespace string                  `json:"globalNamespace,omitempty"`
    GlobalSetName   string                  `json:"globalSetName,omitempty"`
}
```

<a name="Aerospike.Connect"></a>
### func \(\*Aerospike\) [Connect](<https://github.com/sphireinc/mantis/blob/master/database/aerospike.go#L43>)

```go
func (a *Aerospike) Connect() error
```

Connect to the database

<a name="Aerospike.Default"></a>
### func \(\*Aerospike\) [Default](<https://github.com/sphireinc/mantis/blob/master/database/aerospike.go#L27>)

```go
func (a *Aerospike) Default(hostname string, port int) error
```

Default creates a default config based on given parameters

<a name="Aerospike.Get"></a>
### func \(\*Aerospike\) [Get](<https://github.com/sphireinc/mantis/blob/master/database/aerospike.go#L62>)

```go
func (a *Aerospike) Get(key *aerospike.Key) (*aerospike.Record, error)
```

Get a key value pair from our Redis DB

<a name="Aerospike.Set"></a>
### func \(\*Aerospike\) [Set](<https://github.com/sphireinc/mantis/blob/master/database/aerospike.go#L67>)

```go
func (a *Aerospike) Set(namespace, setName, key, bin, value string) error
```

Set a key value pair in our Redis DB

<a name="Aerospike.String"></a>
### func \(\*Aerospike\) [String](<https://github.com/sphireinc/mantis/blob/master/database/aerospike.go#L34>)

```go
func (a *Aerospike) String() string
```

String returns our Aerospike struct as a JSON string

<a name="AerospikeError"></a>
## type [AerospikeError](<https://github.com/sphireinc/mantis/blob/master/database/aerospike.go#L10-L13>)

AerospikeError provides a common struct for Aerospike Errors

```go
type AerospikeError struct {
    Name  string
    Error error
}
```

<a name="CypherQuery"></a>
## type [CypherQuery](<https://github.com/sphireinc/mantis/blob/master/database/neo4j.go#L26-L30>)

CypherQuery is our query struct

```go
type CypherQuery struct {
    Results    interface{}
    Statement  string
    Parameters neoism.Props
}
```

<a name="CypherQuery.String"></a>
### func \(\*CypherQuery\) [String](<https://github.com/sphireinc/mantis/blob/master/database/neo4j.go#L33>)

```go
func (c *CypherQuery) String() string
```

String returns our query struct as a JSON string

<a name="MySQL"></a>
## type [MySQL](<https://github.com/sphireinc/mantis/blob/master/database/mysql.go#L35-L41>)

MySQL is our primary struct

```go
type MySQL struct {
    LastQuery          string
    Connection         *sqlx.DB
    Config             mysql.Config
    MaxOpenConnections int
    Connected          bool
}
```

<a name="MySQL.ConfigString"></a>
### func \(\*MySQL\) [ConfigString](<https://github.com/sphireinc/mantis/blob/master/database/mysql.go#L57>)

```go
func (m *MySQL) ConfigString() string
```

ConfigString turns our configuration into a JSON string

<a name="MySQL.Connect"></a>
### func \(\*MySQL\) [Connect](<https://github.com/sphireinc/mantis/blob/master/database/mysql.go#L75>)

```go
func (m *MySQL) Connect() error
```

Connect to the database

<a name="MySQL.Default"></a>
### func \(\*MySQL\) [Default](<https://github.com/sphireinc/mantis/blob/master/database/mysql.go#L44>)

```go
func (m *MySQL) Default(user, password, address, dbName string)
```

Default creates a default config based on given parameters

<a name="MySQL.Delete"></a>
### func \(\*MySQL\) [Delete](<https://github.com/sphireinc/mantis/blob/master/database/mysql.go#L211>)

```go
func (m *MySQL) Delete(namedQuery string, deleteStructs any) (int64, error)
```

Delete performs a deletion

```
persons := []Person{
	{Id: 0},
	{Id: 1},
}
err = db.NamedExec(`DELETE FROM persons WHERE id=:id`, persons)
```

<a name="MySQL.DeleteOne"></a>
### func \(\*MySQL\) [DeleteOne](<https://github.com/sphireinc/mantis/blob/master/database/mysql.go#L199>)

```go
func (m *MySQL) DeleteOne(namedQuery string, deleteStruct any) error
```

DeleteOne performs a deletion

```
persons := Person{Id: 0}
err = db.NamedExec(`DELETE FROM persons WHERE id=:id`, persons)
```

<a name="MySQL.Insert"></a>
### func \(\*MySQL\) [Insert](<https://github.com/sphireinc/mantis/blob/master/database/mysql.go#L152>)

```go
func (m *MySQL) Insert(namedQuery string, insertStruct any) error
```

Insert many structs into a named query using sqlx standards

```
persons := []Person{
	{FirstName: "Ardie"},
	{FirstName: "Sonny"},
}
err = db.NamedExec(`INSERT INTO persons (first_name) VALUES (:first_name)`, persons)
```

<a name="MySQL.InsertOne"></a>
### func \(\*MySQL\) [InsertOne](<https://github.com/sphireinc/mantis/blob/master/database/mysql.go#L129>)

```go
func (m *MySQL) InsertOne(namedQuery string, insertStruct any) (int64, error)
```

InsertOne one struct into a named query using sqlx standards

```
person := Person{ FirstName: "Ardie" }
lastInsertId, err = db.NamedExec(`INSERT INTO persons (first_name) VALUES (:first_name)`, person)
```

<a name="MySQL.MatchError"></a>
### func \(\*MySQL\) [MatchError](<https://github.com/sphireinc/mantis/blob/master/database/mysql.go#L23>)

```go
func (m *MySQL) MatchError(err error) MySQLError
```

MatchError matches a MySQL error with a given list of known errors \(to be expanded\) and returns a MySQLError

<a name="MySQL.RawQuery"></a>
### func \(\*MySQL\) [RawQuery](<https://github.com/sphireinc/mantis/blob/master/database/mysql.go#L87>)

```go
func (m *MySQL) RawQuery(query string, args ...any) (*sql.Rows, error)
```

RawQuery allows one to perform a raw query

<a name="MySQL.Select"></a>
### func \(\*MySQL\) [Select](<https://github.com/sphireinc/mantis/blob/master/database/mysql.go#L117>)

```go
func (m *MySQL) Select(into any, query string, args ...any) (any, error)
```

Select for more than one result is expected

```
countries := []Countries{}
countries, err := db.Select(&countries, "SELECT * FROM countries ORDER BY name ASC")
```

<a name="MySQL.SelectOne"></a>
### func \(\*MySQL\) [SelectOne](<https://github.com/sphireinc/mantis/blob/master/database/mysql.go#L102>)

```go
func (m *MySQL) SelectOne(into any, query string, args ...any) (any, error)
```

SelectOne single result, stored within arg:into

```
country := Country{}
country, err := db.Select(&country, "SELECT * FROM countries WHERE name='Germany' ORDER BY name ASC")
```

<a name="MySQL.String"></a>
### func \(\*MySQL\) [String](<https://github.com/sphireinc/mantis/blob/master/database/mysql.go#L66>)

```go
func (m *MySQL) String() string
```

String returns our MySQL struct as a JSON string

<a name="MySQL.Update"></a>
### func \(\*MySQL\) [Update](<https://github.com/sphireinc/mantis/blob/master/database/mysql.go#L187>)

```go
func (m *MySQL) Update(namedQuery string, updateStructs any) error
```

Update performs an update of many records

```
persons := []Person{
	{FirstName: "Ardie"},
	{FirstName: "Sonny"},
}
err = db.NamedExec(`UPDATE persons SET first_name=:first_name`, persons)
```

<a name="MySQL.UpdateOne"></a>
### func \(\*MySQL\) [UpdateOne](<https://github.com/sphireinc/mantis/blob/master/database/mysql.go#L164>)

```go
func (m *MySQL) UpdateOne(namedQuery string, updateStruct any) (int64, error)
```

UpdateOne performs an update of one record

```
persons := Person{ FirstName: "Ardie" }
err = db.NamedExec(`UPDATE persons SET first_name=:first_name`, persons)
```

<a name="MySQLError"></a>
## type [MySQLError](<https://github.com/sphireinc/mantis/blob/master/database/mysql.go#L17-L20>)

MySQLError provides a common struct for MySQL Errors

```go
type MySQLError struct {
    Name  string
    Error error
}
```

<a name="Neo4j"></a>
## type [Neo4j](<https://github.com/sphireinc/mantis/blob/master/database/neo4j.go#L11-L14>)

Neo4j is our primary struct

```go
type Neo4j struct {
    conn *neoism.Database
    DSN  url.URL
}
```

<a name="Neo4j.Connect"></a>
### func \(\*Neo4j\) [Connect](<https://github.com/sphireinc/mantis/blob/master/database/neo4j.go#L42>)

```go
func (n *Neo4j) Connect() error
```

Connect attempts to connect to the DB

<a name="Neo4j.CypherQuery"></a>
### func \(\*Neo4j\) [CypherQuery](<https://github.com/sphireinc/mantis/blob/master/database/neo4j.go#L57>)

```go
func (n *Neo4j) CypherQuery(query CypherQuery) (interface{}, error)
```

CypherQuery perform a query \- results will be populated with the query results \- it must be a slice of structs.

<a name="Neo4j.NewNode"></a>
### func \(\*Neo4j\) [NewNode](<https://github.com/sphireinc/mantis/blob/master/database/neo4j.go#L52>)

```go
func (n *Neo4j) NewNode(node neoism.Props) (*neoism.Node, error)
```

NewNode creates a new node

<a name="Neo4j.String"></a>
### func \(\*Neo4j\) [String](<https://github.com/sphireinc/mantis/blob/master/database/neo4j.go#L17>)

```go
func (n *Neo4j) String() string
```

String returns our Neo4j struct as a JSON string

<a name="Neo4j.TransactCypherQuery"></a>
### func \(\*Neo4j\) [TransactCypherQuery](<https://github.com/sphireinc/mantis/blob/master/database/neo4j.go#L72>)

```go
func (n *Neo4j) TransactCypherQuery(queries []CypherQuery) (interface{}, error)
```

TransactCypherQuery creates a CyperQuery Transaction

<a name="Redis"></a>
## type [Redis](<https://github.com/sphireinc/mantis/blob/master/database/redis.go#L12-L17>)

Redis is our primary struct

```go
type Redis struct {
    client      *redis.Client
    context     context.Context
    Options     *redis.Options
    IsConnected bool
}
```

<a name="Redis.CheckIfConnected"></a>
### func \(\*Redis\) [CheckIfConnected](<https://github.com/sphireinc/mantis/blob/master/database/redis.go#L32>)

```go
func (r *Redis) CheckIfConnected() bool
```

CheckIfConnected Checks our connection status to our Redis DB

<a name="Redis.Get"></a>
### func \(\*Redis\) [Get](<https://github.com/sphireinc/mantis/blob/master/database/redis.go#L40>)

```go
func (r *Redis) Get(key string) (string, error)
```

Get a key value pair from our Redis DB

<a name="Redis.GetRawConnectionAndContext"></a>
### func \(\*Redis\) [GetRawConnectionAndContext](<https://github.com/sphireinc/mantis/blob/master/database/redis.go#L60>)

```go
func (r *Redis) GetRawConnectionAndContext() (*redis.Client, context.Context)
```

GetRawConnectionAndContext returns both our Redis Client and the latest context

<a name="Redis.Init"></a>
### func \(\*Redis\) [Init](<https://github.com/sphireinc/mantis/blob/master/database/redis.go#L20>)

```go
func (r *Redis) Init() error
```

Init creates a new Redis connection

<a name="Redis.Set"></a>
### func \(\*Redis\) [Set](<https://github.com/sphireinc/mantis/blob/master/database/redis.go#L55>)

```go
func (r *Redis) Set(key string, value string, expiration time.Duration) error
```

Set a key value pair in our Redis DB

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
